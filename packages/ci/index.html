<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <title>Testing a package using GitHub Actions - SC1</title>
    <meta property="og:title" content="Testing a package using GitHub Actions - SC1">
    
    <meta name="twitter:card" content="summary">

    
      
    

    
      
      <meta property="description" content="An R package that is publicly available on GitHub can be tested using GitHub Actions. This is one example of continuous integration (CI).
CI is a useful tool when developing software collaboratively &amp;hellip;">
      <meta property="og:description" content="An R package that is publicly available on GitHub can be tested using GitHub Actions. This is one example of continuous integration (CI).
CI is a useful tool when developing software collaboratively &amp;hellip;">
      
    

    
    

    

    
    


<link rel="stylesheet" href="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.12.0/build/styles/github.min.css">



    <link rel="stylesheet" href="/sc1/css/style.css" />
    <link rel="stylesheet" href="/sc1/css/fonts.css" />
    <link rel="stylesheet" href="/sc1/css/custom.css" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Arvo">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Marcellus">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Code+Pro">

<link rel="stylesheet" href="/css/custom.css" />

<link rel="icon" href="/sc1/favicon.ico" type="image/x-icon" />



























<nav class="breadcrumbs">
    
        <a href="https://awllee.github.io/sc1">home / </a>
    
        <a href="https://awllee.github.io/sc1/packages/">packages / </a>
    
        <a href="https://awllee.github.io/sc1/packages/ci/">ci / </a>
    
</nav>

  </head>

  
  <body class="sc1">
    <header class="masthead">
      <h1><a href="/">SC1</a></h1>

<p class="tagline">Statistical Computing 1</p>

      <nav class="menu">
  <input id="menu-check" type="checkbox" hidden/>
  <label id="menu-label" for="menu-check" class="unselectable" hidden>
    <span class="icon close-icon">✕</span>
    <span class="icon open-icon">☰</span>
    <span class="text">Menu</span>
  </label>
  <ul>
  
  
  <li><a href="/sc1/">Home</a></li>
  
  <li><a href="/sc1/intro-r/">Intro to R</a></li>
  
  <li><a href="/sc1/reproducibility/">Reproducibility</a></li>
  
  <li><a href="/sc1/packages/">Packages</a></li>
  
  <li><a href="/sc1/common-r/">Common R</a></li>
  
  <li><a href="/sc1/functional-oo/">Functional / OO</a></li>
  
  <li><a href="/sc1/tidyverse/">Tidyverse</a></li>
  
  <li><a href="/sc1/profile-debug/">Performance / Bugs</a></li>
  
  <li><a href="/sc1/matrices/">Matrices</a></li>
  
  <li><a href="/sc1/optimization/">Optimization</a></li>
  
  <li><a href="/sc1/integration/">Integration</a></li>
  
  
  </ul>
</nav>

    </header>

    <article class="main">
      <header class="title">
      
<h1>Testing a package using GitHub Actions</h1>

<h3>
</h3>
<hr>


      </header>





<p>An R package that is publicly available on GitHub can be tested using <a href="https://github.com/features/actions">GitHub Actions</a>. This is one example of continuous integration (CI).</p>
<p>CI is a useful tool when developing software collaboratively because pull requests can automatically trigger tests. This means that the reviewer of the pull request can be sure that the code works, insofar as the tests pass, and focus on other aspects of the code.</p>
<p>Even in non-collaborative development, this can be useful as tests can be configured to run systematically against different configurations. For example, operating systems and versions of R.</p>
<h2 id="security">Security</h2>
<p>In order to create workflows, GitHub requires you to use a personal access token with workflow scope. You can do this via</p>
<p><code>Settings -&gt; Developer Settings -&gt; Personal access tokens</code></p>
<h2 id="a-simple-example-package-testing">A simple example: package testing</h2>
<p>A simple example of an R package using GitHub Actions for CI is the <a href="https://github.com/awllee/SC1ExamplePackage">SC1ExamplePackage</a>. The instructions for CI are contained in the <code>.github</code> directory, and in particular in the <code>workflows</code> subdirectory. There are two workflows.</p>
<p><code>R-CMD-check.yaml</code>: this workflow runs the tests defined in the package on Windows, macOS and Linux with the latest release of R, and also on Linux with the latest development build of R. It was created automatically by running</p>
<pre tabindex="0"><code>usethis::use_github_action_check_standard()
</code></pre><p><code>test-coverage.yaml</code>: this workflow runs <code>covr::codecov()</code>, which essentially runs the package tests on macOS and monitors which lines of source code have been run, and then uploads the results to <a href="https://about.codecov.io/">Codecov.io</a>. It was created automatically by running</p>
<pre tabindex="0"><code>usethis::use_github_action(&#34;test-coverage&#34;)
</code></pre><p>You can log on to Codecov using GitHub credentials and manage coverage settings for your GitHub repository there.</p>
<h2 id="hosting-pages-using-github-pages">Hosting pages using GitHub pages</h2>
<p>In fact, you can also have Github Actions build RMarkdown pages and deploy them to a GitHub Pages website associated with your GitHub repository.</p>
<p>This is how this <a href="https://github.com/awllee/sc1">website is created</a>.</p>
<p>Here are some other examples:</p>
<ul>
<li><a href="https://github.com/awllee/rmarkdown-pages-demo">basic RMarkdown project</a> + <a href="https://awllee.github.io/rmarkdown-pages-demo/example.html">webpage</a></li>
<li><a href="https://github.com/awllee/smc-tutorial">some slides</a> + <a href="https://awllee.github.io/smc-tutorial/smc-tutorial.html">webpage</a></li>
</ul>



  <footer>
  

<script src="//yihui.name/js/math-code.js"></script>
<script async src="//mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML"></script>

<script async src="//yihui.name/js/center-img.js"></script>


<script type="text/javascript">
var sc_project=12110974;
var sc_invisible=1;
var sc_security="9b171880";
</script>
<script type="text/javascript"
src="https://www.statcounter.com/counter/counter.js"
async></script>
<noscript><div class="statcounter"><a title="Web Analytics"
href="https://statcounter.com/" target="_blank"><img
class="statcounter"
src="https://c.statcounter.com/12110974/0/9b171880/1/"
alt="Web Analytics"></a></div></noscript>








  


<p align=right>

<a href='https://github.com/awllee/sc1/blob/master/content/packages/ci.md'>View source</a>

|

<a href='https://github.com/awllee/sc1/edit/master/content/packages/ci.md'>Edit source</a>

</p>





<script src="https://utteranc.es/client.js"
        repo="awllee/sc1"
        issue-term="pathname"
        label="utterance"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script>



  











<script src="//cdn.jsdelivr.net/combine/gh/highlightjs/cdn-release@9.12.0/build/highlight.min.js,gh/highlightjs/cdn-release@9.12.0/build/languages/r.min.js,gh/highlightjs/cdn-release@9.12.0/build/languages/yaml.min.js,gh/highlightjs/cdn-release@9.12.0/build/languages/tex.min.js,npm/@xiee/utils/js/load-highlight.js" defer></script>



  
  <hr>
  <div class="copyright">© 2020 <a href="https://sites.google.com/view/anthonylee">Anthony Lee</a>, <a href="http://www.bristol.ac.uk/maths/people/feng-yu/index.html">Feng Yu</a>, <a href="https://people.maths.bris.ac.uk/~tk18582/">Tobias Kley</a>, <a href="https://mfasiolo.github.io/">Matteo Fasiolo</a></div>
  
  </footer>
  </article>
  
  </body>
</html>

